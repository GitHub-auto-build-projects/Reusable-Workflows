name: Build IPA

on:
  workflow_call:

jobs:
  build:
    name: Build iOS IPA
    runs-on: macos-latest

    steps:
      - name: Checkout
        uses: actions/checkout@V3

      - name: Get directory names
        uses: actions/collect-directory-names-by-file-glob@v1.1
        with:
          file-glob: '**/project.pbxproj'
          unique: "true"

      - name: Use Directory Names
        run: echo "Directory Names are ${{ steps.get-directory-names.outputs.directory-names}}
